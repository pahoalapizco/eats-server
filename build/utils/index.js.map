{"version":3,"sources":["../../src/utils/index.js"],"names":["storeUpload","stream","cloudinary","config","cloud_name","CLOUD_NAME","api_key","API_KEY","api_secret","API_SECRET","Promise","resolve","reject","buffer","v2","uploader","upload_stream","err","result","pipe","module","exports"],"mappings":";;;;AAAA;;AACA;;AAEA,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAAAC,MAAM,EAAI;AAC5BC,yBAAWC,MAAX,CAAkB;AAChBC,IAAAA,UAAU,EAAEC,kBADI;AAEhBC,IAAAA,OAAO,EAAEC,eAFO;AAGhBC,IAAAA,UAAU,EAAEC;AAHI,GAAlB;;AAKA,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,QAAMC,MAAM,GAAGX,uBAAWY,EAAX,CAAcC,QAAd,CAAuBC,aAAvB,CAAqC,UAACC,GAAD,EAAMC,MAAN,EAAiB;AACnE,UAAID,GAAJ,EAAS;AAAEL,QAAAA,MAAM,CAACK,GAAD,CAAN;AAAa;;AACxBN,MAAAA,OAAO,CAACO,MAAD,CAAP;AACD,KAHc,CAAf;;AAIAjB,IAAAA,MAAM,CAACkB,IAAP,CAAYN,MAAZ;AACD,GANM,CAAP;AAOD,CAbD;;AAeAO,MAAM,CAACC,OAAP,GAAiB;AACfrB,EAAAA,WAAW,EAAXA;AADe,CAAjB","sourcesContent":["import cloudinary from 'cloudinary'\r\nimport { CLOUD_NAME, API_KEY, API_SECRET } from '../config/'\r\n\r\nconst storeUpload = stream => {\r\n  cloudinary.config({\r\n    cloud_name: CLOUD_NAME,\r\n    api_key: API_KEY,\r\n    api_secret: API_SECRET\r\n  })\r\n  return new Promise((resolve, reject) => {\r\n    const buffer = cloudinary.v2.uploader.upload_stream((err, result) => {\r\n      if (err) { reject(err) }\r\n      resolve(result)\r\n    })\r\n    stream.pipe(buffer)\r\n  })\r\n}\r\n\r\nmodule.exports = {\r\n  storeUpload\r\n}\r\n"],"file":"index.js"}